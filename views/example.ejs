<% layout('./layouts/main') -%>

  <article
    id="exampleThing"
    class="content d-none"
    v-bind:class="{ 'd-block': !isLoading }"
  >
    {{ thing }}
  </article>


  <% block('javascript').append(`
  <script>
    (function() {

      nodar.api.on('authenticated', () => {

        // Before we run anything, ensure the user is
        // authenticated with the API, otherwise they
        // will be kicked to /login.

        const component = new Vue({
          el: "#exampleThing",
          data: {
            isLoading: true,
            thing: ''
          },
          mounted: function() {
            this.doSomething();
          },
          methods: {
             doSomething: function() {
              this.thing = 'done',
              this.isLoading = false
            }
          }
        });

      });

    }());
  </script>
`) %>